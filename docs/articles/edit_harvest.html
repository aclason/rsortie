<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="rsortie">
<title>How to edit a harvest and planting • rsortie</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="How to edit a harvest and planting">
<meta property="og:description" content="rsortie">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">rsortie</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item">
  <a class="nav-link" href="../articles/index.html">Vignettes</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Functions</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main"><div class="page-header">
      <img src="" class="logo" alt=""><h1>How to edit a harvest and planting</h1>
            
            <h4 data-toc-skip class="date">January 2022</h4>
      
      
      <div class="d-none name"><code>edit_harvest.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://aclason.github.io/rsortie/">rsortie</a></span><span class="op">)</span></code></pre></div>
<p>This vignette describes the files required to run <code>rsortie</code> for editing a harvest or planting, but can apply to substituting other behaviours as a chunk of xml code as well. <code><a href="../reference/makeFiles.html">makeFiles()</a></code> can search through xml files identified in the list of files (new values files), and if it encounters xml code chunks, it will replace one section at a time, in order. Any number of xml sections can be present in a new values file, and the file can include both sections to delete or sections to replace.</p>
<p><strong>if you include an xml section substitution in a slot before values substitution in the list of files passed to <code><a href="../reference/makeFiles.html">makeFiles()</a></code>, the new values will be substituted in the new xml section.</strong></p>
<div class="section level2">
<h2 id="base-sortie-parameter-file">Base SORTIE parameter file<a class="anchor" aria-label="anchor" href="#base-sortie-parameter-file"></a>
</h2>
<p>To modify, replace or delete a harvest (plant, or other behaviour), the base SORTIE parameter file must contain the behaviour. It will be assigned a behaviour list position. To add a new behaviour to a SORTIE parameter file, use Edit &gt; Model Flow &gt; View by behaviour and click any of the folders.</p>
<div class="figure">
<img src="AddHarvestWindow.jpg" alt=""><p class="caption">Add Harvest to Base SORTIE parameter file</p>
</div>
</div>
<div class="section level2">
<h2 id="creating-an-xml-code-chunk">creating an xml code chunk<a class="anchor" aria-label="anchor" href="#creating-an-xml-code-chunk"></a>
</h2>
<p>There are different ways of producing an xml file that contains a chunk of code to substitute for that in the Base SORTIE parameter file. One way would be to copy the harvest chunk out from first tag to the last tag into a new text file and save as an xml. That code can be replicated and changed in R or elsewhere, and once saved, can be called in the list of files for a <code><a href="../reference/makeFiles.html">makeFiles()</a></code> new parameter file creation in the list of files (see <a href="https://aclason.github.io/rsortie/articles/prepare_inputs.html" class="uri">https://aclason.github.io/rsortie/articles/prepare_inputs.html</a> and <a href="https://aclason.github.io/rsortie/articles/using_makeFiles.html" class="uri">https://aclason.github.io/rsortie/articles/using_makeFiles.html</a>)</p>
<p><strong>The file must contain complete xml format code</strong></p>
</div>
<div class="section level2">
<h2 id="substitute-a-chunk-of-xml-code">Substitute a chunk of xml code<a class="anchor" aria-label="anchor" href="#substitute-a-chunk-of-xml-code"></a>
</h2>
<p>The new values file can contain a completely new set of behaviours or parameters, such as allometry or GapDispersal21. The tool will look at the first line of the file, determine what to look for, and replace all the lines between the beginning and end of the section with the new code. For example, you could use this to completely replace the allometry section of the input file.</p>
</div>
<div class="section level2">
<h2 id="delete-an-xml-section">Delete an xml section<a class="anchor" aria-label="anchor" href="#delete-an-xml-section"></a>
</h2>
<p>Put the name of the section that you wish to delete in the first line of the xml file (e.g. StochasticMortality9). The second line of the file must contain -999. The <code><a href="../reference/makeFiles.html">makeFiles()</a></code> function will then find the section that corresponds to what is in the first line of the file, and then remove it entirely from the final xml file. For example: <br><span style="color: purple;">StochasticMortality9</span><br><span style="color: purple;">-999</span><br><span style="color: purple;">StochasticMortality9</span></p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Sarah Beukema, Alana Clason.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
